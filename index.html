<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | Tumbang Preso</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <script src="TemplateData/UnityProgress.js"></script>
    <script src="Build/UnityLoader.js"></script>
    <script>
      var unityInstance = UnityLoader.instantiate("unityContainer", "Build/TumbangPreso.json");
	  var scaleToFit;
		try {
			scaleToFit = !!JSON.parse("true");
		} catch (e) {
			scaleToFit = true;
		}

		function onResize() {
			var canvas = gameInstance.Module.canvas;
			var container = gameInstance.container;
			var w;
			var h;

			if (scaleToFit) {
				w = window.innerWidth;
				h = window.innerHeight;

				var r = 800 / 450;

				if (w * r > window.innerHeight) {
					w = Math.min(w, Math.ceil(h / r));
				}
				h = Math.floor(w * r);
			} else {
				w = 450;
				h = 800;
			}

			container.style.width = canvas.style.width = w + "px";
			container.style.height = canvas.style.height = h + "px";
			container.style.top = Math.floor((window.innerHeight - h) / 2) + "px";
			container.style.left = Math.floor((window.innerWidth - w) / 2) + "px";
		}
		window.addEventListener('resize', onResize);
		var userAgent = navigator.userAgent || navigator.vendor || window.opera;
		function isIOS()
		{
			if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
				return true;
			} else {
				return false;
			}
		}
		function isAndroid() {
			return (/android/i.test(userAgent));
		}	
		function appendIframeWithURL(url) {
			var iframe = document.createElement("IFRAME");
			iframe.setAttribute("src", url);
			document.documentElement.appendChild(iframe);
			iframe.parentNode.removeChild(iframe);
			iframe = null;
		}
		function sendMessageToUnity(message) {
			if (isIOS()) {
				appendIframeWithURL('inappbrowserbridge://' + message);
			} else if (isAndroid()){
				UnityInAppBrowser.sendMessageFromJS(message);
			}
		}
		function ExitGame() {
			sendMessageToUnity("Exit");
		}
    </script>
  </head>
  <body>
    <div class="webgl-content">
      <div id="unityContainer" style="width: 450px; height: 800px"></div>
      <div class="footer">
        <div class="webgl-logo"></div>
        <div class="fullscreen" onclick="unityInstance.SetFullscreen(1)"></div>
        <div class="title">Tumbang Preso</div>
      </div>
    </div>
  </body>
</html>
